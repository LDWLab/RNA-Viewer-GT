{"version":3,"file":"pdb-rna-viewer-plugin-0.1.0.js","mappings":"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","sources":["webpack://pdb-rna-viewer/./lib/index.js","webpack://pdb-rna-viewer/./lib/customEvents.js","webpack://pdb-rna-viewer/./lib/data.js","webpack://pdb-rna-viewer/./lib/uiActions.js","webpack://pdb-rna-viewer/./lib/uiTemplate.js","webpack://pdb-rna-viewer/./node_modules/tslib/tslib.es6.js","webpack://pdb-rna-viewer/webpack/bootstrap","webpack://pdb-rna-viewer/webpack/runtime/define property getters","webpack://pdb-rna-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://pdb-rna-viewer/webpack/runtime/make namespace object"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar data_1 = require(\"./data\");\nvar uiTemplate_1 = require(\"./uiTemplate\");\nvar uiActions_1 = require(\"./uiActions\");\nvar customEvents_1 = require(\"./customEvents\");\nvar PdbRnaViewerPlugin = /** @class */ (function () {\n    function PdbRnaViewerPlugin() {\n        this.dataService = new data_1.DataService();\n    }\n    PdbRnaViewerPlugin.prototype.render = function (target, options) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, _b, _c;\n            return (0, tslib_1.__generator)(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!target || !options.pdbId || !options.chainId || !options.entityId) {\n                            console.log('Invalid plugin input!');\n                            return [2 /*return*/];\n                        }\n                        this.options = options;\n                        _a = this;\n                        return [4 /*yield*/, this.dataService.getApiData(this.options.entityId, this.options.chainId, this.options.pdbId)];\n                    case 1:\n                        _a.apiData = _d.sent();\n                        _b = this;\n                        return [4 /*yield*/, this.dataService.getFR3DData(this.options.pdbId, this.options.chainId)];\n                    case 2:\n                        _b.FR3DData = _d.sent();\n                        _c = this;\n                        return [4 /*yield*/, this.dataService.getFR3DNestedData(this.options.pdbId, this.options.chainId)];\n                    case 3:\n                        _c.FR3DNestedData = _d.sent();\n                        this.targetEle = target;\n                        this.uiTemplateService = new uiTemplate_1.UiTemplateService(this.targetEle, this.options, this.apiData);\n                        if (this.apiData) {\n                            // draw topology\n                            this.uiTemplateService.render(this.apiData, this.FR3DData, this.FR3DNestedData);\n                            // Bind to other PDB Component events\n                            if (this.options.subscribeEvents) {\n                                customEvents_1.CustomEvents.subscribeToComponentEvents(this);\n                            }\n                        }\n                        else {\n                            this.uiTemplateService.renderError('apiError');\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PdbRnaViewerPlugin.prototype.selectResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.selectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, 'mouseover', false, color);\n    };\n    PdbRnaViewerPlugin.prototype.clearSelection = function (label_seq_id) {\n        uiActions_1.UiActionsService.unSelectNucleotide(this.options.pdbId, this.options.entityId, label_seq_id, false);\n    };\n    PdbRnaViewerPlugin.prototype.highlightResidue = function (label_seq_id, color) {\n        uiActions_1.UiActionsService.colorNucleotide(this.options.pdbId, label_seq_id, color, 'highlight');\n    };\n    PdbRnaViewerPlugin.prototype.clearHighlight = function () {\n        uiActions_1.UiActionsService.clearHighlight(this.options.pdbId);\n    };\n    return PdbRnaViewerPlugin;\n}());\nwindow.PdbRnaViewerPlugin = PdbRnaViewerPlugin;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomEvents = void 0;\nvar CustomEvents;\n(function (CustomEvents) {\n    function create(eventTypeArr) {\n        var eventObj = {};\n        for (var ei = 0, el = eventTypeArr.length; ei < el; ei++) {\n            var eventType = eventTypeArr[ei];\n            var event_1 = void 0;\n            if (typeof MouseEvent == 'function') {\n                // current standard\n                event_1 = new MouseEvent(eventType, { 'view': window, 'bubbles': true, 'cancelable': true });\n            }\n            else if (typeof document.createEvent == 'function') {\n                // older standard\n                event_1 = document.createEvent('MouseEvents');\n                event_1.initEvent(eventType, true /* bubbles */, true /* cancelable */);\n            }\n            eventObj[eventType] = event_1;\n        }\n        ;\n        return eventObj;\n    }\n    CustomEvents.create = create;\n    function dispatchCustomEvent(event, eventData, targetElement) {\n        event['eventData'] = eventData;\n        targetElement.dispatchEvent(event);\n    }\n    CustomEvents.dispatchCustomEvent = dispatchCustomEvent;\n    function subscribeToComponentEvents(pluginCtx) {\n        document.addEventListener('protvista-click', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearSelection();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.selectResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseover', function (e) {\n            if (typeof e.detail !== 'undefined') {\n                var startResidue = parseInt(e.detail.start);\n                var endResidue = parseInt(e.detail.end);\n                pluginCtx.clearHighlight();\n                for (var i = startResidue; i <= endResidue; i++) {\n                    pluginCtx.highlightResidue(i, e.detail.color);\n                }\n            }\n        });\n        document.addEventListener('protvista-mouseout', function (e) {\n            pluginCtx.clearHighlight();\n        });\n        document.addEventListener(\"PDB.molstar.click\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.clearSelection();\n                pluginCtx.selectResidue(e.eventData.residueNumber);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseover\", function (e) {\n            if (typeof e.eventData !== 'undefined' && typeof e.eventData.residueNumber !== 'undefined' && e.eventData.auth_asym_id === pluginCtx.options.chainId) {\n                pluginCtx.clearHighlight();\n                pluginCtx.highlightResidue(e.eventData.residueNumber);\n            }\n        });\n        document.addEventListener(\"PDB.molstar.mouseout\", function () {\n            pluginCtx.clearHighlight();\n        });\n    }\n    CustomEvents.subscribeToComponentEvents = subscribeToComponentEvents;\n})(CustomEvents = exports.CustomEvents || (exports.CustomEvents = {}));\n//# sourceMappingURL=customEvents.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataService = void 0;\nvar tslib_1 = require(\"tslib\");\nvar DataService = /** @class */ (function () {\n    function DataService() {\n    }\n    DataService.prototype.getApiData = function (entityId, chainId, pdbId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var apiUrl, e_1;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        apiUrl = \"https://wwwdev.ebi.ac.uk/pdbe/static/rfam_images/\" + pdbId.toLowerCase() + \"_\" + entityId + \"_\" + chainId.toUpperCase() + \".json\";\n                        return [4 /*yield*/, fetch(apiUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.handleError(e_1);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DData = function (pdbId, chainId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var csvUrl, e_2;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=\" + pdbId.toLowerCase() + \"&chain=\" + chainId;\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: \n                    //const csvUrl = `https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=${pdbId.toLowerCase()}&chain=${chainId}&only_nested=True`\n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/pdb/${pdbId.toLowerCase()}/interactions/fr3d/basepairs/csv`;\n                    return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_2 = _a.sent();\n                        this.handleFR3DError(e_2);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.getFR3DNestedData = function (pdbId, chainId) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var csvUrl, e_3;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        csvUrl = \"http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=\" + pdbId.toLowerCase() + \"&chain=\" + chainId + \"&only_nested=True\";\n                        return [4 /*yield*/, fetch(csvUrl)];\n                    case 1: return [4 /*yield*/, (_a.sent()).json()];\n                    case 2: \n                    //const csvUrl = `https://rnacentral.org/api/internal/proxy?url=http://rna.bgsu.edu/rna3dhub/rest/getSequenceBasePairs?pdb_id=${pdbId.toLowerCase()}&chain=${chainId}&only_nested=True`\n                    //const csvUrl = `http://rna.bgsu.edu/rna3dhub/pdb/${pdbId.toLowerCase()}/interactions/fr3d/basepairs/csv`;\n                    return [2 /*return*/, _a.sent()];\n                    case 3:\n                        e_3 = _a.sent();\n                        this.handleFR3DError(e_3);\n                        return [2 /*return*/, void 0];\n                    case 4:\n                        ;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    DataService.prototype.handleError = function (e) {\n        console.log(\"RNA topology data not available!\", e);\n    };\n    DataService.prototype.handleFR3DError = function (e) {\n        console.log(\"FR3D mapping data not available!\", e);\n    };\n    return DataService;\n}());\nexports.DataService = DataService;\n//# sourceMappingURL=data.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiActionsService = void 0;\nvar customEvents_1 = require(\"./customEvents\");\nvar UiActionsService = /** @class */ (function () {\n    function UiActionsService(pdbId) {\n        this.pdbId = pdbId;\n    }\n    UiActionsService.prototype.applyButtonActions = function () {\n        var _this = this;\n        var svgEle = d3.select('.rnaTopoSvg');\n        // initialize SVG zoom behaviour and remove mouse wheel zoom events\n        var zoom1 = d3.zoom().on('zoom', function () {\n            d3.select(\".rnaTopoSvg_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgHighlight_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n            d3.select(\".rnaTopoSvgSelection_\" + _this.pdbId).attr(\"transform\", d3.event.transform);\n        });\n        d3.select(\".rnaTopoSvg\").call(zoom1)\n            .on('dblclick.zoom', null)\n            .on('wheel.zoom', null)\n            .on('mousewheel.zoom', null);\n        // zoom-in button behaviour\n        d3.select(\"#rnaTopologyZoomIn-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            zoom1.scaleBy(svgEle.transition().duration(300), 1.2);\n        });\n        // zoom-out button behaviour\n        d3.select(\"#rnaTopologyZoomOut-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            var rnaTopoSvg = d3.select(\".rnaTopoSvg_\" + _this.pdbId);\n            var transformValue = rnaTopoSvg._groups[0][0].getAttribute('transform');\n            if (transformValue && transformValue !== '') {\n                if (transformValue === null)\n                    return;\n                var transformValMatch = +transformValue.match(/.+scale\\((.*)\\)/)[1];\n                if (transformValMatch <= 1 || (transformValMatch - 0.3 <= 1)) {\n                    svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n                    return;\n                }\n            }\n            zoom1.scaleBy(d3.select(\".rnaTopoSvg\").transition().duration(300), 0.8);\n        });\n        // reset button behaviour\n        d3.select(\"#rnaTopologyReset-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            svgEle.transition().duration(300).call(zoom1.transform, d3.zoomIdentity);\n        });\n        // selection and highlight reset on canvas click\n        d3.select(\".pdb-rna-view-container-\" + this.pdbId)\n            .on(\"click\", function () {\n            d3.event.stopPropagation();\n            UiActionsService.clearHighlight(_this.pdbId);\n            UiActionsService.clearSelection(_this.pdbId);\n        });\n    };\n    UiActionsService.unSelectNucleotide = function (pdbId, entityId, label_seq_id, isUnobserved, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        this.clearHighlight(pdbId);\n        var ttEle = document.getElementById(pdbId + \"-rnaTopologyTooltip\");\n        ttEle.style.display = 'none';\n        if (!isUnobserved) {\n            if (label_seq_id == undefined) {\n                label_seq_id = this.lastSelected;\n            }\n            if (label_seq_id > -1) {\n                var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n                var textElement = document.querySelector(\".rnaview_\" + pdbId + \"_\" + label_seq_id);\n                customEvents_1.CustomEvents.dispatchCustomEvent(this.pdbevents['PDB.RNA.viewer.mouseout'], evData, textElement);\n            }\n        }\n    };\n    UiActionsService.showCheckboxes = function () {\n        var checkboxes = document.getElementById(\"checkboxes\");\n        if (!this.expanded) {\n            checkboxes.style.display = \"block\";\n            this.expanded = true;\n        }\n        else {\n            checkboxes.style.display = \"none\";\n            this.expanded = false;\n        }\n    };\n    UiActionsService.clearHighlight = function (pdbId) {\n        if (this.selected > -1) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\" + pdbId + \" rnaview_\" + pdbId + \"_\" + this.selected)[0].setAttribute(\"fill\", \"323232\");\n            this.selected = -1;\n        }\n    };\n    UiActionsService.clearSelection = function (pdbId) {\n        document.querySelector(\".rnaTopoSvgSelection_\" + pdbId).innerHTML = \"\";\n    };\n    UiActionsService.showTooltip = function (evt, text, path, color, fill) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.id = \"tooltip\";\n        tooltip.innerHTML = text;\n        tooltip.style.display = \"block\";\n        tooltip.style.left = evt.layerX + 'px';\n        tooltip.style.top = evt.layerY + 'px';\n        this.selectedColor = color;\n        this.fillColor = fill;\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"stroke\", \"orange\");\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"fill\", \"orange\");\n    };\n    UiActionsService.hideTooltip = function (path) {\n        var tooltip = document.getElementById(\"tooltip\");\n        tooltip.style.display = \"none\";\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"stroke\", \"\" + this.selectedColor);\n        document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(path)[0].setAttribute(\"fill\", \"\" + this.fillColor);\n    };\n    UiActionsService.pdbevents = customEvents_1.CustomEvents.create(['PDB.RNA.viewer.click', 'PDB.RNA.viewer.mouseover', 'PDB.RNA.viewer.mouseout']);\n    UiActionsService.lastSelected = -1;\n    UiActionsService.selected = -1;\n    UiActionsService.selectedColor = '';\n    UiActionsService.fillColor = '';\n    UiActionsService.expanded = false;\n    UiActionsService.selectNucleotide = function (pdbId, entityId, label_seq_id, eventType, isUnobserved, residue, event, color) {\n        event === null || event === void 0 ? void 0 : event.stopImmediatePropagation();\n        UiActionsService.clearHighlight(pdbId);\n        UiActionsService.colorNucleotide(pdbId, label_seq_id, color, 'highlight');\n        UiActionsService.selected = label_seq_id;\n        UiActionsService.lastSelected = label_seq_id;\n        var ttEle = document.getElementById(pdbId + \"-rnaTopologyTooltip\");\n        ttEle.style.display = 'inline';\n        ttEle.innerHTML = \"<strong>\" + (isUnobserved ? 'Unobserved ' : '') + \"Residue \" + (residue ? residue : '') + \" \" + label_seq_id + \"</strong>\";\n        if (!isUnobserved) {\n            var eventName = (eventType === 'click') ? 'PDB.RNA.viewer.click' : 'PDB.RNA.viewer.mouseover';\n            var evData = { pdbId: pdbId, label_seq_id: label_seq_id, entityId: entityId };\n            var textElement = document.querySelector(\".rnaview_\" + pdbId + \"_\" + label_seq_id);\n            customEvents_1.CustomEvents.dispatchCustomEvent(UiActionsService.pdbevents[eventName], evData, textElement);\n        }\n    };\n    UiActionsService.colorNucleotide = function (pdbId, label_seq_id, color, type, shape) {\n        var strokeColor = color || 'orange';\n        var nucleotide = document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaviewEle rnaviewEle_\" + pdbId + \" rnaview_\" + pdbId + \"_\" + label_seq_id)[0];\n        if (nucleotide.nodeName == 'path') {\n            nucleotide.setAttribute(\"stroke\", strokeColor);\n        }\n        else if (nucleotide.nodeName == 'text') {\n            nucleotide.setAttribute(\"fill\", strokeColor);\n        }\n    };\n    return UiActionsService;\n}());\nexports.UiActionsService = UiActionsService;\nwindow.UiActionsService = UiActionsService;\n//# sourceMappingURL=uiActions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UiTemplateService = void 0;\nvar uiActions_1 = require(\"./uiActions\");\nvar UiTemplateService = /** @class */ (function () {\n    function UiTemplateService(containerElement, pluginOptions, apiData) {\n        this.locations = new Map();\n        this.pathStrs = [];\n        this.nucleotideStrs = [];\n        this.baseStrs = new Map();\n        this.nestedBaseStrs = new Map();\n        this.menuStyle = 'position:relative;z-index:10;height:38px;line-height:38px;background-color:#696969;font-size:16px; color: #efefef;';\n        this.containerElement = containerElement;\n        this.pluginOptions = pluginOptions;\n        this.uiActionsService = new uiActions_1.UiActionsService(this.pluginOptions.pdbId);\n    }\n    UiTemplateService.prototype.render = function (apiData, FR3DData, FR3DNestedData) {\n        this.containerElement.innerHTML =\n            \"<div class=\\\"pdb-rna-view-container pdb-rna-view-container-\" + this.pluginOptions.pdbId + \"\\\">\\n            \" + this.svgTemplate(apiData, FR3DData, FR3DNestedData) + \"\\n            \" + this.title() + \"\\n            \" + this.tooltip() + \"\\n            \" + this.actionButtons() + \"\\n        </div>\\n        <div id=\\\"mainMenu\\\" style=\\\"\" + this.menuStyle + \"\\\">\\n                <img src=\\\"https://www.ebi.ac.uk/pdbe/entry/static/images/logos/PDBe/logo_T_64.png\\\" style=\\\"height:15px; width: 15px; border:0;position:relative;margin-top: 11px;margin-left:10px;display: inline-block;\\\" />\\n                <div class=\\\"menuOptions\\\" style=\\\"display: inline-block;float:right;margin-right:20px;\\\">\\n                    <form>\\n                        <input type=\\\"checkbox\\\" id=\\\"nestedBP\\\" name=\\\"nestedBP\\\">\\n                        <label for=\\\"nestedBP\\\"> Only nested BPs</label>\\n                        <select class=\\\"menuSelectbox\\\" style=\\\"display:inline-block;\\\"><option value=\\\"\\\">Nucleotides</option></select>\\n                        <div class=\\\"multiselect\\\">\\n                            <div class=\\\"selectBox\\\" onclick=\\\"UiActionsService.showCheckboxes()\\\" style=\\\"display:inline-block;\\\">\\n                                <select>\\n                                    <option>Base Pairings</option>\\n                                </select>\\n                                <div class=\\\"overSelect\\\"></div>\\n                            </div>\\n                            <div id=\\\"checkboxes\\\"></div>\\n                        </div>\\n                    </form>\\n                </div>\\n        </div>\\n        \";\n        this.createModeDropdown();\n        this.createBPDropdown();\n        this.uiActionsService.applyButtonActions();\n    };\n    UiTemplateService.prototype.changeBP = function (val) {\n        var _this = this;\n        this.displayBaseStrs = '';\n        this.displayNestedBaseStrs = '';\n        var allBP = this.containerElement.querySelector('#Checkbox_All').checked;\n        if ((val == 'All')) {\n            this.baseStrs.forEach(function (value, key) {\n                _this.baseStrs.set(key, [allBP, value[1]]);\n                _this.nestedBaseStrs.set(key, [allBP, _this.nestedBaseStrs.get(key)[1]]);\n                document.getElementById(\"Checkbox_\" + key).checked = allBP;\n                if (allBP) {\n                    _this.displayBaseStrs += value[1].join('');\n                    _this.displayNestedBaseStrs += _this.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        else {\n            if (this.baseStrs.get(val)[0]) {\n                this.baseStrs.set(val, [false, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [false, this.nestedBaseStrs.get(val)[1]]);\n            }\n            else {\n                this.baseStrs.set(val, [true, this.baseStrs.get(val)[1]]);\n                this.nestedBaseStrs.set(val, [true, this.nestedBaseStrs.get(val)[1]]);\n            }\n            this.baseStrs.forEach(function (value, key) {\n                if (value[0]) {\n                    _this.displayBaseStrs += value[1].join('');\n                    _this.displayNestedBaseStrs += _this.nestedBaseStrs.get(key)[1].join('');\n                }\n            });\n        }\n        this.pathOrNucleotide();\n    };\n    UiTemplateService.prototype.createBPDropdown = function () {\n        var _this = this;\n        var _a;\n        if (this.baseStrs.size > 0) {\n            var optionList_1 = '<label for = \"Checkbox_All\"><input type=\"checkbox\" id=\"Checkbox_All\" />All</label>';\n            this.baseStrs.forEach(function (value, key) {\n                if (key == 'cWW') {\n                    optionList_1 = optionList_1 + \"<label for = \\\"Checkbox_\" + key + \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\" + key + \"\\\" checked = true/>\" + key + \"</label>\";\n                }\n                else {\n                    optionList_1 = optionList_1 + \"<label for = \\\"Checkbox_\" + key + \"\\\"><input type=\\\"checkbox\\\" id=\\\"Checkbox_\" + key + \"\\\"/>\" + key + \"</label>\";\n                }\n            });\n            var selectBoxEle = document.getElementById('checkboxes');\n            selectBoxEle.innerHTML = optionList_1;\n            (_a = document.getElementById(\"Checkbox_All\")) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", this.changeBP.bind(this, \"All\"));\n            this.baseStrs.forEach(function (value, key) {\n                var _a;\n                (_a = document.getElementById(\"Checkbox_\" + key)) === null || _a === void 0 ? void 0 : _a.addEventListener(\"change\", _this.changeBP.bind(_this, key));\n            });\n        }\n    };\n    UiTemplateService.prototype.createModeDropdown = function () {\n        var optionList = \"<option value=\\\"0\\\">Nucleotides</option><option value=\\\"1\\\">Path</option></option>\";\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        selectBoxEle.innerHTML = optionList;\n        selectBoxEle.addEventListener(\"change\", this.pathOrNucleotide.bind(this));\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        nestedBP.addEventListener(\"change\", this.pathOrNucleotide.bind(this));\n    };\n    UiTemplateService.prototype.calculateFontSize = function (apiData) {\n        var xVals = [];\n        var yVals = [];\n        var dist = [];\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            if (recordIndex === 0 || recordIndex === lastPathIndex)\n                return;\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            xVals[recordIndex] = (Number(pathStrParsed[1]) + Number(pathStrParsed[3])) / 2;\n            yVals[recordIndex] = (Number(pathStrParsed[2]) + Number(pathStrParsed[4])) / 2;\n            if (recordIndex > 1) {\n                var xDiff = xVals[recordIndex] - xVals[recordIndex - 1];\n                var yDiff = yVals[recordIndex] - yVals[recordIndex - 1];\n                dist[recordIndex] = Math.pow((Math.pow(yDiff, 2) + Math.pow(xDiff, 2)), 0.5);\n            }\n        });\n        var sortedDist = dist.sort(function (a, b) { return a - b; });\n        return 0.9 * sortedDist[Math.floor(sortedDist.length * 0.05)];\n    };\n    UiTemplateService.linearlyInterpolate = function (v0, v1, interpolationFactor) {\n        // See https://en.wikipedia.org/wiki/Linear_interpolation\n        return (1 - interpolationFactor) * v0 + interpolationFactor * v1;\n    };\n    UiTemplateService.prototype.pathOrNucleotide = function () {\n        var selectBoxEle = this.containerElement.querySelector('.menuSelectbox');\n        var selectedValue = parseInt(selectBoxEle.value);\n        var nestedBP = this.containerElement.querySelector('#nestedBP');\n        if (nestedBP.checked) {\n            var displayBP = this.displayNestedBaseStrs;\n        }\n        else {\n            var displayBP = this.displayBaseStrs;\n        }\n        if (selectedValue == 0) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\" + this.pluginOptions.pdbId)[0].innerHTML = this.nucleotideStrs.join('') + displayBP;\n        }\n        else if (selectedValue == 1) {\n            document.querySelector(\"svg.rnaTopoSvg\").getElementsByClassName(\"rnaTopoSvg_\" + this.pluginOptions.pdbId)[0].innerHTML = this.pathStrs.join('') + displayBP;\n        }\n    };\n    UiTemplateService.prototype.calcBaseStrs = function (baseStr, baseMap, font_size) {\n        var start = +baseStr.seq_id1;\n        var end = +baseStr.seq_id2;\n        if (baseStr && start && end) {\n            var type = baseStr.bp;\n            var pathID = \"rnaviewBP rnaviewBP_\" + this.pluginOptions.pdbId + \"_\" + this.pluginOptions.chainId + \" \" + type + \"_\" + start + \"_\" + end;\n            var n1 = baseStr.nt1;\n            var n2 = baseStr.nt2;\n            var x1 = this.locations.get(start)[0] + font_size / 2.5;\n            var x2 = this.locations.get(end)[0] + font_size / 2.5;\n            var y1 = this.locations.get(start)[1] - font_size / 2.5;\n            var y2 = this.locations.get(end)[1] - font_size / 2.5;\n            var distance = Math.pow(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2), 0.5);\n            var x1_prime = UiTemplateService.linearlyInterpolate(x1, x2, font_size / distance);\n            var y1_prime = UiTemplateService.linearlyInterpolate(y1, y2, font_size / distance);\n            var x2_prime = UiTemplateService.linearlyInterpolate(x1, x2, 1 - font_size / distance);\n            var y2_prime = UiTemplateService.linearlyInterpolate(y1, y2, 1 - font_size / distance);\n            var stroke = \"#ccc\";\n            if (type.charAt(0) == 't') {\n                var fill = \"none\";\n            }\n            else {\n                var fill = \"#ccc\";\n            }\n            var xm = (x1_prime + x2_prime) / 2;\n            var ym = (y1_prime + y2_prime) / 2;\n            var distance2 = distance - 2 * font_size;\n            var height = font_size / 1.5;\n            var defaultAction = \"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\" + type + \" Base Pair \" + n1 + start + \" - \" + n2 + end + \"', '\" + pathID + \"', '\" + stroke + \"', '\" + fill + \"');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\"\";\n            if (x1 - x2 != 0) {\n                var phi = 90 + Math.atan2((y1 - y2), (x1 - x2)) * 180 / Math.PI;\n            }\n            else {\n                var phi = 0;\n            }\n            if (type == 'cWW') {\n                if (n1 == 'G' && n2 == 'U' || n1 == 'U' && n2 == 'G') {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt, '\" + type + \" Base Pair \" + n1 + start + \" - \" + n2 + end + \"', '\" + pathID + \"', '#000', '#000');\\\"\\n                    onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\"\\n                    d=\\\"\\n                    M \" + ((x1_prime + x2_prime) / 2 - font_size / 4) + \", \" + (y1_prime + y2_prime) / 2 + \"\\n                    a \" + font_size / 4 + \",\" + font_size / 4 + \" 0 1,0 \" + font_size / 2 + \",0\\n                    a \" + font_size / 4 + \",\" + font_size / 4 + \" 0 1,0 \" + -1 * font_size / 2 + \",0\\n                    \\\"\\n                    stroke=\\\"#000\\\" stroke-width=\\\"\" + font_size / 6 + \" fill=\\\"\" + fill + \"\\\"\\n                />\");\n                }\n                else {\n                    baseMap.get(type)[1].push(\"<path class=\\\"\" + pathID + \"\\\" onmouseover=\\\"UiActionsService.showTooltip(evt,  '\" + type + \" Base Pair \" + n1 + start + \" - \" + n2 + end + \"', '\" + pathID + \"', '#000', '#000');\\\" onmouseout=\\\"UiActionsService.hideTooltip('\" + pathID + \"');\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" data-stroke-color=\\\"#000\\\" stroke=\\\"#000\\\" d=\\\"M\" + x1_prime + \" \" + y1_prime + \" \" + x2_prime + \" \" + y2_prime + \"\\\"></path>\");\n                }\n            }\n            else if (type == 'tWW') {\n                var xm1 = UiTemplateService.linearlyInterpolate(x1_prime, xm, 1 - (font_size / 3) / (distance / 2));\n                var ym1 = UiTemplateService.linearlyInterpolate(y1_prime, ym, 1 - (font_size / 3) / (distance / 2));\n                var xm2 = UiTemplateService.linearlyInterpolate(xm, x2_prime, (font_size / 3) / (distance / 2));\n                var ym2 = UiTemplateService.linearlyInterpolate(ym, y2_prime, (font_size / 3) / (distance / 2));\n                baseMap.get(type)[1].push(defaultAction +\n                    (\"d=\\\"\\n                    M \" + x1_prime + \" \" + y1_prime + \" \" + xm1 + \" \" + ym1 + \"\\n                    M \" + (xm - font_size / 3) + \" \" + ym + \"\\n                    a \" + font_size / 3 + \",\" + font_size / 3 + \" 0 1,0 \" + font_size / 1.5 + \",0\\n                    a \" + font_size / 3 + \",\" + font_size / 3 + \" 0 1,0 \" + -1 * font_size / 1.5 + \",0\\n                    M \" + xm2 + \" \" + ym2 + \" \" + x2_prime + \" \" + y2_prime + \"\\\"\\n                    stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\"/>\"));\n            }\n            else if (type == 'cSS' || type == 'tSS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height / 2) + \" \\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height / 2) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tHS' || type == 'cHS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tWS' || type == 'cWS') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                M \" + (xm - height / 2) + \" \" + (ym + 3 * height / 4) + \" \\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + height + \",0\\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + -1 * height + \",0\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                l \" + height / 2 + \" 0\\n                l -\" + height / 2 + \" -\" + height + \" \\n                l -\" + height / 2 + \" \" + height + \"\\n                l \" + height / 2 + \" 0\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tWH' || type == 'cWH') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height + height / 4) + \" \\n                M \" + (xm - height / 2) + \" \" + (ym + 3 * height / 4) + \" \\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + height + \",0\\n                a \" + height / 2 + \",\" + height / 2 + \" 0 1,0 \" + -1 * height + \",0\\n                M \" + xm + \" \" + (ym + height / 4) + \" \" + xm + \" \" + (ym - height / 4) + \"\\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym - height - height / 4) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n            else if (type == 'tHH' || type == 'cHH') {\n                baseMap.get(type)[1].push(defaultAction + (\"\\n                d=\\\"\\n                M \" + xm + \" \" + (ym + distance2 / 2) + \" \" + xm + \" \" + (ym + height / 2) + \" \\n                h -\" + height / 2 + \"\\n                v -\" + height + \"\\n                h \" + height + \"\\n                v \" + height + \"\\n                h -\" + height / 2 + \"\\n                M \" + xm + \" \" + (ym - height / 2) + \" \" + xm + \" \" + (ym - distance2 / 2) + \"\\n                \\\"stroke=\\\"\" + stroke + \"\\\" stroke-width=\\\"\" + font_size / 6 + \"\\\" fill = \\\"\" + fill + \"\\\" transform = \\\"rotate(\" + phi + \" \" + xm + \" \" + ym + \")\\\"/>\"));\n            }\n        }\n    };\n    UiTemplateService.prototype.svgTemplate = function (apiData, FR3DData, FR3DNestedData) {\n        var _this = this;\n        var font_size = this.calculateFontSize(apiData);\n        var lastPathIndex = apiData.svg_paths.length - 1;\n        apiData.svg_paths.forEach(function (pathStr, recordIndex) {\n            var _a, _b, _c, _d, _e, _f, _g;\n            if (recordIndex === 0 || recordIndex === 1 || recordIndex === (lastPathIndex + 1))\n                return;\n            var pathEleClass = \"rnaviewEle rnaviewEle_\" + _this.pluginOptions.pdbId + \" rnaview_\" + _this.pluginOptions.pdbId + \"_\" + apiData.label_seq_ids[recordIndex - 1];\n            var strokeColor = ((_a = _this.pluginOptions.theme) === null || _a === void 0 ? void 0 : _a.color) || '#323232';\n            var strokeWide = ((_b = _this.pluginOptions.theme) === null || _b === void 0 ? void 0 : _b.strokeWidth) || '2';\n            var isUnobserved = false;\n            if (apiData.unobserved_label_seq_ids && apiData.unobserved_label_seq_ids.indexOf(apiData.label_seq_ids[recordIndex - 1]) > -1) {\n                strokeColor = ((_c = _this.pluginOptions.theme) === null || _c === void 0 ? void 0 : _c.unobservedColor) || '#ccc';\n                isUnobserved = true;\n            }\n            var pathStrParsed = pathStr.split('M').join(',').split(',');\n            var xVal = Number(pathStrParsed[3]);\n            var yVal = Number(pathStrParsed[4]);\n            _this.locations.set(apiData.label_seq_ids[recordIndex - 1], [xVal, yVal]);\n            _this.pathStrs.push(\"<path \\n                    class=\\\"\" + pathEleClass + \"\\\" stroke-width=\\\"\" + strokeWide + \"\\\" stroke=\\\"\" + strokeColor + \"\\\" d=\\\"\" + pathStr + \"\\\" \\n                    data-stroke-color=\\\"\" + strokeColor + \"\\\" \\n                    onclick=\\\"UiActionsService.selectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \"', 'click', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \", event, \" + (((_d = _this.pluginOptions.theme) === null || _d === void 0 ? void 0 : _d.highlightColor) ? \"'\" + _this.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                    onmouseover=\\\"UiActionsService.selectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'mouseover', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"', event, \" + (((_e = _this.pluginOptions.theme) === null || _e === void 0 ? void 0 : _e.highlightColor) ? \"'\" + _this.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" \\n                    onmouseout=\\\"UiActionsService.unSelectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", \" + isUnobserved + \", event, '\" + strokeColor + \"')\\\">\\n                </path>\");\n            _this.nucleotideStrs.push(\"<text href=\\\"#\" + pathEleClass + \"\\\" class=\\\"\" + pathEleClass + \"\\\" x=\\\"\" + xVal + \"\\\" y=\\\"\" + yVal + \"\\\" font-size = \\\"\" + font_size + \"px\\\" onclick=\\\"UiActionsService.selectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'click', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"',\\n                event, \" + (((_f = _this.pluginOptions.theme) === null || _f === void 0 ? void 0 : _f.highlightColor) ? \"'\" + _this.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" onmouseover=\\\"UiActionsService.selectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", 'mouseover', \" + isUnobserved + \", '\" + apiData.sequence[recordIndex - 2] + \"',\\n                event, \" + (((_g = _this.pluginOptions.theme) === null || _g === void 0 ? void 0 : _g.highlightColor) ? \"'\" + _this.pluginOptions.theme.highlightColor + \"'\" : undefined) + \")\\\" onmouseout=\\\"UiActionsService.unSelectNucleotide('\" + _this.pluginOptions.pdbId + \"', '\" + _this.pluginOptions.entityId + \"', \" + apiData.label_seq_ids[recordIndex - 1] + \", \" + isUnobserved + \", event, '\" + strokeColor + \"')\\\">\" + apiData.sequence[recordIndex - 2] + \"</text>\");\n        });\n        var baseArray = FR3DData.annotations;\n        var nestedBaseArray = FR3DNestedData.annotations;\n        this.baseStrs.set('cWW', [true, []]);\n        this.baseStrs.set('tWW', [false, []]);\n        this.baseStrs.set('cWH', [false, []]);\n        this.baseStrs.set('tWH', [false, []]);\n        this.baseStrs.set('cWS', [false, []]);\n        this.baseStrs.set('tWS', [false, []]);\n        this.baseStrs.set('cHH', [false, []]);\n        this.baseStrs.set('tHH', [false, []]);\n        this.baseStrs.set('cHS', [false, []]);\n        this.baseStrs.set('tHS', [false, []]);\n        this.baseStrs.set('cSS', [false, []]);\n        this.baseStrs.set('tSS', [false, []]);\n        this.nestedBaseStrs.set('cWW', [true, []]);\n        this.nestedBaseStrs.set('tWW', [false, []]);\n        this.nestedBaseStrs.set('cWH', [false, []]);\n        this.nestedBaseStrs.set('tWH', [false, []]);\n        this.nestedBaseStrs.set('cWS', [false, []]);\n        this.nestedBaseStrs.set('tWS', [false, []]);\n        this.nestedBaseStrs.set('cHH', [false, []]);\n        this.nestedBaseStrs.set('tHH', [false, []]);\n        this.nestedBaseStrs.set('cHS', [false, []]);\n        this.nestedBaseStrs.set('tHS', [false, []]);\n        this.nestedBaseStrs.set('cSS', [false, []]);\n        this.nestedBaseStrs.set('tSS', [false, []]);\n        nestedBaseArray.forEach(function (baseStr) {\n            _this.calcBaseStrs(baseStr, _this.nestedBaseStrs, font_size);\n        });\n        baseArray.forEach(function (baseStr) {\n            _this.calcBaseStrs(baseStr, _this.baseStrs, font_size);\n        });\n        this.baseStrs.forEach(function (value, key) {\n            if (value[0]) {\n                _this.displayBaseStrs += value[1].join('');\n            }\n            if (_this.nestedBaseStrs.get(key)[0]) {\n                _this.displayNestedBaseStrs += _this.nestedBaseStrs.get(key)[1].join('');\n            }\n        });\n        return \"\\n        <div style=\\\"width:100%;height:100%;z-index:0;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\" \\n            viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgSelection rnaTopoSvgSelection_\" + this.pluginOptions.pdbId + \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div style=\\\"width:100%;height:100%;z-index:1;position:absolute;\\\">\\n            <svg preserveAspectRatio=\\\"xMidYMid meet\\\"\\n            viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n            style=\\\"width:100%;height:100%;position:relative;\\\">\\n                <g class=\\\"rnaTopoSvgHighlight rnaTopoSvgHighlight_\" + this.pluginOptions.pdbId + \"\\\"></g>\\n            </svg>\\n        </div>\\n        <div id=\\\"tooltip\\\" display=\\\"none\\\" style=\\\"position:absolute; display: none;\\\"></div> \\n            <div style=\\\"width:100%;height:100%;z-index:2;position:absolute;\\\">\\n                <svg class=\\\"rnaTopoSvg\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" \\n                    viewBox=\\\"0 0 \" + apiData.dimensions.width + \" \" + apiData.dimensions.height + \"\\\" \\n                    style=\\\"width:100%;height:100%;\\\">\\n                        <g class=\\\"rnaTopoSvg_\" + this.pluginOptions.pdbId + \"\\\">\" + this.nucleotideStrs.join('') + this.displayBaseStrs + \"</g>\\n                </svg>\\n            </div>\";\n    };\n    UiTemplateService.prototype.title = function () {\n        return \"<span class=\\\"pdb-rna-view-title\\\">\" + this.pluginOptions.pdbId.toUpperCase() + \" Chain \" + this.pluginOptions.chainId + \"</span>\";\n    };\n    UiTemplateService.prototype.tooltip = function () {\n        return \"<span class=\\\"pdb-rna-view-tooltip\\\" id=\\\"\" + this.pluginOptions.pdbId + \"-rnaTopologyTooltip\\\"></span>\";\n    };\n    UiTemplateService.prototype.actionButtons = function () {\n        return \"<div class=\\\"pdb-rna-view-btn-group\\\">\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-in\\\" id=\\\"rnaTopologyZoomIn-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14L20.5,19L19,20.5L14,15.5V14.71L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z\\\" />\\n                </svg>\\n            </span>\\n            \\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Zoom-out\\\" id=\\\"rnaTopologyZoomOut-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M15.5,14H14.71L14.43,13.73C15.41,12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z\\\" />\\n                </svg>\\n            </span>\\n\\n            <span class=\\\"pdb-rna-view-btn\\\" title=\\\"Reset\\\" id=\\\"rnaTopologyReset-\" + this.pluginOptions.pdbId + \"\\\">\\n                <svg style=\\\"width:24px;height:24px\\\" viewBox=\\\"0 0 24 24\\\">\\n                    <path fill=\\\"currentColor\\\" d=\\\"M12,6V9L16,5L12,1V4A8,8 0 0,0 4,12C4,13.57 4.46,15.03 5.24,16.26L6.7,14.8C6.25,13.97 6,13 6,12A6,6 0 0,1 12,6M18.76,7.74L17.3,9.2C17.74,10.04 18,11 18,12A6,6 0 0,1 12,18V15L8,19L12,23V20A8,8 0 0,0 20,12C20,10.43 19.54,8.97 18.76,7.74Z\\\" />\\n                </svg>\\n            </span>\\n        </div>\";\n    };\n    UiTemplateService.prototype.renderError = function (type) {\n        var errorContent = \"<div class=\\\"pdb-rna-view-error\\\">Error! Something went wrong!</div>\";\n        if (type === 'apiError') {\n            errorContent = \"<div class=\\\"pdb-rna-view-error\\\">\\n                RNA topology data for \" + this.pluginOptions.pdbId.toUpperCase() + \" | \" + this.pluginOptions.entityId + \" | \" + this.pluginOptions.chainId.toUpperCase() + \" is not available!\\n            </div>\";\n        }\n        this.containerElement.innerHTML = \"<div class=\\\"pdb-rna-view-container\\\">\" + errorContent + \"</div>\";\n    };\n    return UiTemplateService;\n}());\nexports.UiTemplateService = UiTemplateService;\n//# sourceMappingURL=uiTemplate.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["tslib_1","data_1","uiTemplate_1","uiActions_1","customEvents_1","PdbRnaViewerPlugin","CustomEvents","Object","defineProperty","exports","value","create","eventTypeArr","eventObj","ei","el","length","eventType","event_1","MouseEvent","window","document","createEvent","initEvent","dispatchCustomEvent","event","eventData","targetElement","dispatchEvent","subscribeToComponentEvents","pluginCtx","addEventListener","e","detail","startResidue","parseInt","start","endResidue","end","clearSelection","i","selectResidue","color","clearHighlight","highlightResidue","residueNumber","auth_asym_id","options","chainId","DataService","prototype","getApiData","entityId","pdbId","__awaiter","this","apiUrl","e_1","__generator","_a","label","trys","push","toLowerCase","toUpperCase","fetch","sent","json","handleError","getFR3DData","csvUrl","e_2","handleFR3DError","getFR3DNestedData","e_3","console","log","UiActionsService","applyButtonActions","_this","svgEle","d3","select","zoom1","zoom","on","attr","transform","call","stopPropagation","scaleBy","transition","duration","transformValue","_groups","getAttribute","transformValMatch","match","zoomIdentity","unSelectNucleotide","label_seq_id","isUnobserved","stopImmediatePropagation","getElementById","style","display","undefined","lastSelected","evData","textElement","querySelector","pdbevents","showCheckboxes","checkboxes","expanded","selected","getElementsByClassName","setAttribute","innerHTML","showTooltip","evt","text","path","fill","tooltip","id","left","layerX","top","layerY","selectedColor","fillColor","hideTooltip","selectNucleotide","residue","colorNucleotide","ttEle","eventName","type","shape","strokeColor","nucleotide","nodeName","UiTemplateService","containerElement","pluginOptions","apiData","locations","Map","pathStrs","nucleotideStrs","baseStrs","nestedBaseStrs","menuStyle","uiActionsService","render","FR3DData","FR3DNestedData","svgTemplate","title","actionButtons","createModeDropdown","createBPDropdown","changeBP","val","displayBaseStrs","displayNestedBaseStrs","allBP","checked","forEach","key","set","get","join","pathOrNucleotide","size","optionList_1","bind","selectBoxEle","calculateFontSize","xVals","yVals","dist","lastPathIndex","svg_paths","pathStr","recordIndex","pathStrParsed","split","Number","xDiff","yDiff","Math","pow","sortedDist","sort","a","b","floor","linearlyInterpolate","v0","v1","interpolationFactor","selectedValue","displayBP","calcBaseStrs","baseStr","baseMap","font_size","seq_id1","seq_id2","bp","pathID","n1","nt1","n2","nt2","x1","x2","y1","y2","distance","x1_prime","y1_prime","x2_prime","y2_prime","charAt","xm","ym","distance2","height","defaultAction","phi","atan2","PI","xm1","ym1","xm2","ym2","_b","_c","_d","_e","_f","_g","pathEleClass","label_seq_ids","theme","strokeWide","strokeWidth","unobserved_label_seq_ids","indexOf","unobservedColor","xVal","yVal","sequence","highlightColor","baseArray","annotations","nestedBaseArray","dimensions","width","renderError","errorContent","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","TypeError","String","__","constructor","__assign","assign","t","s","n","arguments","apply","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","body","f","y","g","_","ops","verb","Symbol","iterator","v","op","pop","__createBinding","o","m","k","k2","enumerable","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","j","jl","__spreadArray","to","from","pack","l","slice","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","has","__classPrivateFieldSet","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","definition","obj","prop","toStringTag","dataService","targetEle","uiTemplateService","subscribeEvents"],"sourceRoot":""}